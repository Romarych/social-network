{"version":3,"file":"static/js/730.f95b3e69.chunk.js","mappings":"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","sources":["webpack://social-network/./src/components/common/Paginator/Pagination.module.css?df99","components/common/Paginator/Pagination.tsx","webpack://social-network/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.tsx","components/Users/UserSearchForm/UserSearchForm.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"page\":\"Pagination_page__pon+n\",\"selectedPage\":\"Pagination_selectedPage__SKRhW\",\"paginator\":\"Pagination_paginator__ki8fv\",\"btn\":\"Pagination_btn__Hy26O\"};","import React, {FC, useState} from \"react\";\r\nimport s from \"./Pagination.module.css\";\r\n\r\ntype PropsType = {\r\n    currentPage?: number\r\n    onPageChanged?: (pageNumber: number) => void\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    portionSize?: number\r\n}\r\n\r\nconst Pagination: FC<PropsType> = ({currentPage, onPageChanged = x => x, totalItemsCount, pageSize, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    const prev = \"< Prev\"\r\n    const next = \"Next >\"\r\n    \r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n\r\n    // let [portionNumber, setPortionNumber] = useState<number | null>(null) // если useState === null\r\n    // if (portionNumber === null) portionNumber = 1\r\n\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {/* {pages.filter(p => p <= currentPage + 5 && p >= currentPage - 5).map((p) => {\r\n                return <span  className={`${currentPage === p && s.selectedPage } ${s.page}`}\r\n                key={p} onClick={(e) => {onPageChanged(p)}}>{p}</span>\r\n            })} */}\r\n\r\n            {portionNumber > 1 && <button className={s.btn} onClick={ () => {setPortionNumber(portionNumber - 1)}}>{prev}</button>}\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n               return <span  className={`${currentPage === p && s.selectedPage } ${s.page}`}\r\n               key={p} onClick={(e) => {onPageChanged(p)}}>{p}</span>\r\n            })}\r\n            {portionCount > portionNumber && <button onClick={() => {setPortionNumber(portionNumber + 1)}}>{next}</button>}\r\n        </div>\r\n    )\r\n}\r\nexport default Pagination;","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"User_users__wOmTD\",\"photo\":\"User_photo__Q+DdV\",\"flex\":\"User_flex__kIygj\",\"avatar\":\"User_avatar__B37xj\"};","import React, { FC } from \"react\";\r\nimport s from \"./User.module.css\";\r\nimport userPhoto from \"../../../assets/images/avatar.png\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UserType } from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number> \r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nlet User: FC<PropsType> = ({user, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div className={s.users}>\r\n            <div className={s.photo} >\r\n                <NavLink to={\"/profile/\" + user.id}>\r\n                    <img className={s.avatar} src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"\" />\r\n                </NavLink>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {unfollow(user.id)}}>Unfollow</button>\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {follow(user.id)}}>Follow</button>}\r\n            </div>\r\n            <div className={s.flex}>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </div>\r\n            <div className={s.flex}>\r\n                <div >{\"u.location.city\"}</div>\r\n                <div>{\"u.location.country\"}</div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default User;","import { FC } from \"react\";\r\nimport { Field, Form, Formik, FormikHelpers } from \"formik\";\r\nimport { FilterType } from \"../../../redux/users-reduser\";\r\n\r\nconst userSearchFormValidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\n\r\ntype PropsTypes = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n    isFetching: boolean\r\n}\r\n\r\ntype FormTypes = {\r\n    term: string\r\n    friend: string \r\n}\r\n\r\nconst UserSearchForm: FC<PropsTypes> = ({ onFilterChanged, isFetching }) => {\r\n\r\n    const submit = (values: FormTypes, { setSubmitting }: FormikHelpers<{ term: string; friend: string; }>) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false\r\n        }\r\n\r\n        onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n            initialValues={{ term: '', friend: \"null\" }}\r\n            validate={userSearchFormValidate}\r\n            onSubmit={submit}\r\n        >\r\n            {({ isSubmitting }) => (\r\n                <Form>\r\n                    <Field type=\"text\" name='term' />\r\n                    <Field name=\"friend\" as=\"select\">\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Only unfollowed</option>\r\n                    </Field>\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n}\r\n\r\nexport default UserSearchForm","import React, { FC } from \"react\";\r\nimport Pagination from \"../common/Paginator/Pagination\";\r\nimport User from \"./User/User\";\r\nimport {UserType} from \"../../types/types\"\r\nimport UserSearchForm from \"./UserSearchForm/UserSearchForm\";\r\nimport { FilterType } from \"../../redux/users-reduser\";\r\n\r\ntype PropTypes = {\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    onFilterChanged: (filter: FilterType) => void\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n    isFetching: boolean\r\n}\r\n\r\nlet Users: FC<PropTypes> = ({currentPage, isFetching, onFilterChanged, onPageChanged, totalUsersCount, pageSize, users, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div >\r\n            <UserSearchForm isFetching={isFetching} onFilterChanged={onFilterChanged} />\r\n            <Pagination currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n            {users.map(user => <User key={user.id} user={user} followingInProgress={followingInProgress} unfollow={unfollow} follow={follow} />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {AppStateType} from \"./redux-store\"\r\n\r\nexport const getUsersData = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n    \r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUsersFilter = (state: AppStateType) => {\r\n    return state.usersPage.filter\r\n}\r\n\r\n","import React, { FC, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\"\r\nimport { getUsers, follow, unfollow, FilterType } from \"../../redux/users-reduser\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { getUsersFilter, getUsersData, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from \"../../redux/users-selectors\"\r\nimport { UserType } from \"../../types/types\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsTypes = {\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    pageSize: number\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n    filter: FilterType\r\n}\r\n\r\ntype MapDispatchPropsTypes = {    \r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number, filter: FilterType) => void\r\n    \r\n}\r\n\r\ntype PropsTypes = MapStatePropsTypes & MapDispatchPropsTypes \r\n\r\nconst UsersContainer: FC<PropsTypes> = React.memo(({currentPage, filter, pageSize, getUsers, isFetching, ...props}) => {\r\n    useEffect( () => {\r\n        getUsers(currentPage, pageSize, filter, )\r\n    }, [currentPage, pageSize, getUsers])\r\n\r\n    const onPageChanged = (currentPage: number) => {\r\n        getUsers(currentPage, pageSize, filter)\r\n    }\r\n\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        getUsers(1, pageSize, filter)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isFetching ? <Preloader /> : null}\r\n            <Users isFetching={isFetching} onFilterChanged={onFilterChanged} {...props} onPageChanged={onPageChanged} currentPage={currentPage} pageSize={pageSize}/>\r\n        </>\r\n    )\r\n\r\n})\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsTypes => {\r\n    return {\r\n        users: getUsersData(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        filter: getUsersFilter(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    // TStateProps = {}, TDispatchProps = {}, TOwnProps = {}, TMergedProps = {} State = DefaultState\r\n    connect<MapStatePropsTypes, MapDispatchPropsTypes, {}, AppStateType>(mapStateToProps, {getUsers, follow, unfollow}),\r\n)(UsersContainer)\r\n\r\n\r\n\r\n\r\n"],"names":["currentPage","onPageChanged","x","totalItemsCount","pageSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","onClick","filter","p","map","e","user","followingInProgress","unfollow","follow","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","name","status","userSearchFormValidate","values","onFilterChanged","isFetching","initialValues","term","friend","validate","onSubmit","setSubmitting","isSubmitting","type","as","value","totalUsersCount","users","getUsersData","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","UsersContainer","React","getUsers","props","useEffect","Preloader","compose","connect"],"sourceRoot":""}