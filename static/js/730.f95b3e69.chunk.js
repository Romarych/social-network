"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[730],{8730:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var i=t(8683),r=t(5987),s=t(2791),o=t(8687),l=t(2304),u=t(885),a="Pagination_page__pon+n",c="Pagination_selectedPage__SKRhW",d="Pagination_paginator__ki8fv",f="Pagination_btn__Hy26O",g=t(184),h=function(n){for(var e=n.currentPage,t=n.onPageChanged,i=void 0===t?function(n){return n}:t,r=n.totalItemsCount,o=n.pageSize,l=n.portionSize,h=void 0===l?10:l,x=Math.ceil(r/o),j=[],m=1;m<=x;m++)j.push(m);var v=Math.ceil(x/h),P=(0,s.useState)(1),p=(0,u.Z)(P,2),_=p[0],w=p[1],C=(_-1)*h+1,b=_*h;return(0,g.jsxs)("div",{className:d,children:[_>1&&(0,g.jsx)("button",{className:f,onClick:function(){w(_-1)},children:"< Prev"}),j.filter((function(n){return n>=C&&n<=b})).map((function(n){return(0,g.jsx)("span",{className:"".concat(e===n&&c," ").concat(a),onClick:function(e){i(n)},children:n},n)})),v>_&&(0,g.jsx)("button",{onClick:function(){w(_+1)},children:"Next >"})]})},x="User_users__wOmTD",j="User_photo__Q+DdV",m="User_flex__kIygj",v="User_avatar__B37xj",P=t(8987),p=t(3504),_=function(n){var e=n.user,t=n.followingInProgress,i=n.unfollow,r=n.follow;return(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)(p.OL,{to:"/profile/"+e.id,children:(0,g.jsx)("img",{className:v,src:null!=e.photos.small?e.photos.small:P,alt:""})}),e.followed?(0,g.jsx)("button",{disabled:t.some((function(n){return n===e.id})),onClick:function(){i(e.id)},children:"Unfollow"}):(0,g.jsx)("button",{disabled:t.some((function(n){return n===e.id})),onClick:function(){r(e.id)},children:"Follow"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("div",{children:e.name}),(0,g.jsx)("div",{children:e.status})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("div",{children:"u.location.city"}),(0,g.jsx)("div",{children:"u.location.country"})]})]})},w=t(5705),C=function(n){return{}},b=function(n){var e=n.onFilterChanged;n.isFetching;return(0,g.jsx)("div",{children:(0,g.jsx)(w.J9,{initialValues:{term:"",friend:"null"},validate:C,onSubmit:function(n,t){var i=t.setSubmitting,r={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e(r),i(!1)},children:function(n){var e=n.isSubmitting;return(0,g.jsxs)(w.l0,{children:[(0,g.jsx)(w.gN,{type:"text",name:"term"}),(0,g.jsxs)(w.gN,{name:"friend",as:"select",children:[(0,g.jsx)("option",{value:"null",children:"All"}),(0,g.jsx)("option",{value:"true",children:"Only followed"}),(0,g.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,g.jsx)("button",{type:"submit",disabled:e,children:"Find"})]})}})})},F=function(n){var e=n.currentPage,t=n.isFetching,i=n.onFilterChanged,r=n.onPageChanged,s=n.totalUsersCount,o=n.pageSize,l=n.users,u=n.followingInProgress,a=n.unfollow,c=n.follow;return(0,g.jsxs)("div",{children:[(0,g.jsx)(b,{isFetching:t,onFilterChanged:i}),(0,g.jsx)(h,{currentPage:e,onPageChanged:r,totalItemsCount:s,pageSize:o}),l.map((function(n){return(0,g.jsx)(_,{user:n,followingInProgress:u,unfollow:a,follow:c},n.id)}))]})},S=t(321),k=t(7781),N=function(n){return n.usersPage.users},U=function(n){return n.usersPage.pageSize},z=function(n){return n.usersPage.totalUsersCount},y=function(n){return n.usersPage.currentPage},I=function(n){return n.usersPage.isFetching},Z=function(n){return n.usersPage.followingInProgress},O=function(n){return n.usersPage.filter},D=["currentPage","filter","pageSize","getUsers","isFetching"],M=s.memo((function(n){var e=n.currentPage,t=n.filter,o=n.pageSize,l=n.getUsers,u=n.isFetching,a=(0,r.Z)(n,D);(0,s.useEffect)((function(){l(e,o,t)}),[e,o,l]);return(0,g.jsxs)(g.Fragment,{children:[u?(0,g.jsx)(S.Z,{}):null,(0,g.jsx)(F,(0,i.Z)((0,i.Z)({isFetching:u,onFilterChanged:function(n){l(1,o,n)}},a),{},{onPageChanged:function(n){l(n,o,t)},currentPage:e,pageSize:o}))]})})),R=(0,k.qC)((0,o.$j)((function(n){return{users:N(n),pageSize:U(n),totalUsersCount:z(n),currentPage:y(n),isFetching:I(n),followingInProgress:Z(n),filter:O(n)}}),{getUsers:l.Rf,follow:l.ZN,unfollow:l.fv}))(M)}}]);
//# sourceMappingURL=730.f95b3e69.chunk.js.map